<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Animal Picture App</title>
    </head>

    <body>
        <h2>Animal Picture App</h2>

        <label for="animal">Animal:</label>
        <select id="animal">
            <option value="cat">Cat</option>
            <option value="dog">Dog</option>
            <option value="bear">Bear</option>
        </select>

        <label for="count">Count:</label>
        <input type="number" id="count" value="1" min="1" max="5" />
        <button onclick="fetchPictures()">Fetch</button>
        
        <div id="images" style="margin-top:20px"></div>
        
        <script>
            async function fetchPictures() {
            const animal = document.getElementById('animal').value;
            const count = document.getElementById('count').value;

            const response = await fetch('/pictures', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ animal, count })
            });

            const data = await response.json();
            const imagesDiv = document.getElementById('images');
            imagesDiv.innerHTML = '';

            data.forEach(pic => {
                const img = document.createElement('img');
                img.src = pic.image_url;
                img.style.width = '200px';
                img.style.margin = '10px';
                imagesDiv.appendChild(img);
            });
            }
</script>
</body>
</html>